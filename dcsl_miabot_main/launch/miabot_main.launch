<launch>
  
  <param name="/n_robots" value="2" />

   <!-- Launch cameras and processors -->
  <include file="$(find dcsl_vision_tracker)/launch/miabot_camera_only.launch" />

  <!-- Launch tracking -->
  <include file="$(find dcsl_vision_tracker)/launch/miabot_tracker.launch" />

  <!-- Launch robots -->
  <include file="$(find dcsl_miabot_main)/launch/miabot0.launch" />
  <include file="$(find dcsl_miabot_main)/launch/miabot1.launch" />
  
  <!-- Low level controller -->
  <node name="low_level_controller" pkg="dcsl_low_level_control" 
	type="dcsl_miabot_low_level_control" args="--vel">
    <!--
    <param name="waypoint_gain_1" value="0.3" type="double" />
    <param name="waypoint_gain_2" value="0.2" type="double" />
    -->
  </node > 

  <!-- Director -->
  <node name="swarm_director" pkg="dcsl_swarm_director" type="dcsl_swarm_director_node.py" />

  <!-- Estimator -->
  <node name="estimator" pkg="dcsl_state_estimator" type="dcsl_miabot_estimator.py" />

  <!-- Websocket bridge -->
  <include file="$(find rosbridge_server)/launch/rosbridge_websocket.launch" />

  <!-- GUI -->
  <node name="rqt_gui" type="rqt_gui" pkg="rqt_gui" />

</launch>
