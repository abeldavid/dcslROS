<title>dcsl_vision_tracker: miabot_tracker.py Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">miabot_tracker.py</div>  </div>
</div><!--header-->
<div class="contents">
<a href="miabot__tracker_8py.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespacemiabot__tracker.html">00001</a> <span class="comment">#!/usr/bin/env python</span>
<a name="l00002"></a>00002 
<a name="l00003"></a>00003 <span class="comment">## @file</span>
<a name="l00004"></a>00004 <span class="comment"># A node that subscribes to the /camera/image_raw topic with Image messages, uses OpenCV to find the poses of the robots in the images, and publishes the poses of the robots as a PoseArray. It also subscribes to the state_estimate topic (PoseArray messages) so that the published PoseArray maintains the same order as the state_estimate. It matches the detected robots with the estimated poses using the Hungarian algorithm via the munkres library.</span>
<a name="l00005"></a>00005 <span class="comment"># This node will soon be depricated in favor of a node based on the dcsl_vision_tracker_API which is under development.</span>
<a name="l00006"></a>00006 
<a name="l00007"></a>00007 <span class="comment">## @author Brendan Andrade</span>
<a name="l00008"></a>00008 
<a name="l00009"></a>00009 <span class="keyword">import</span> math <span class="keyword">as</span> m
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">from</span> munkres <span class="keyword">import</span> Munkres
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="keyword">import</span> roslib
<a name="l00014"></a>00014 roslib.load_manifest(<span class="stringliteral">&#39;dcsl_vision_tracker&#39;</span>)
<a name="l00015"></a>00015 <span class="keyword">import</span> rospy
<a name="l00016"></a>00016 <span class="keyword">from</span> geometry_msgs.msg <span class="keyword">import</span> PoseArray,Pose
<a name="l00017"></a>00017 <span class="keyword">import</span> cv
<a name="l00018"></a>00018 <span class="keyword">from</span> sensor_msgs.msg <span class="keyword">import</span> Image
<a name="l00019"></a>00019 <span class="keyword">from</span> cv_bridge <span class="keyword">import</span> CvBridge,CvBridgeError
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="comment">## This class allows detection of robots in an image,  orders these readings based on state estimates, and publishes them as a PoseArray.</span>
<a name="l00022"></a><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html">00022</a> <span class="keyword">class </span><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html" title="This class allows detection of robots in an image, orders these readings based on state estimates...">miabot_tracker</a>:
<a name="l00023"></a>00023     
<a name="l00024"></a>00024     <span class="comment">## Creates publishers and subscribers, loads background image and nRobots parameter, and creates CvBridge object.</span>
<a name="l00025"></a><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a92728bf9f5398b74b4644239d3fe6381">00025</a>     <span class="keyword">def </span><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a79dbf66bff9bc0349afda122962dcaab" title="Creates publishers and subscribers, loads background image and nRobots parameter, and creates CvBridg...">__init__</a>(self):
<a name="l00026"></a>00026         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a3941b27cb2b3b514e84b6bd18ccdd4e4">image_pub</a> = rospy.Publisher(<span class="stringliteral">&quot;tracked_image&quot;</span>,Image)
<a name="l00027"></a>00027         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab4322e0467c0810f46f80737dbe71cfc">measurement_pub</a> = rospy.Publisher(<span class="stringliteral">&quot;planar_measurements&quot;</span>, PoseArray)
<a name="l00028"></a>00028         location = rospy.get_param(<span class="stringliteral">&#39;/vision_tracker/background_image&#39;</span>)
<a name="l00029"></a>00029         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a681a9a98b8c188f0820f018f2ce70691">background</a> = cv.LoadImageM(location,cv.CV_LOAD_IMAGE_GRAYSCALE)
<a name="l00030"></a>00030         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a56ec4002631c6fc7ca7781d0089db942">image_sub</a> = rospy.Subscriber(<span class="stringliteral">&quot;/camera/image_raw&quot;</span>,Image,self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a52279a73a529515ba5f91306b27b9309" title="Callback function for when new images are received.">imageCallback</a>)
<a name="l00031"></a>00031         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a92728bf9f5398b74b4644239d3fe6381">state_sub</a> = rospy.Subscriber(<span class="stringliteral">&quot;state_estimate&quot;</span>, PoseArray, self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab730a96e79b469f9087904e86bcdc7bd" title="Callback function for state estimates.">stateCallback</a>)
<a name="l00032"></a>00032         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a8391e3dd31abb4d1b20a016c8b74141b">bridge</a> = CvBridge()
<a name="l00033"></a>00033         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a32d99de901934e356c1b49c740c2f80b">nRobots</a> = rospy.get_param(<span class="stringliteral">&quot;/n_robots&quot;</span>,1)
<a name="l00034"></a>00034 
<a name="l00035"></a>00035     <span class="comment">## Callback function for when new images are received. Senses positions of robots, sorts them into the correct order, publishes readings, and displays image.</span>
<a name="l00036"></a>00036     <span class="comment">#</span>
<a name="l00037"></a>00037     <span class="comment"># @param data is the image data received from the /camera/image_raw topic</span>
<a name="l00038"></a><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab88fc0349678620294250c014d25ea08">00038</a>     <span class="keyword">def </span><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a52279a73a529515ba5f91306b27b9309" title="Callback function for when new images are received.">imageCallback</a>(self,data):
<a name="l00039"></a>00039         <span class="comment"># Bridge image from ROS message to OpenCV</span>
<a name="l00040"></a>00040         <span class="keywordflow">try</span>:
<a name="l00041"></a>00041             working_image = self.bridge.imgmsg_to_cv(data, <span class="stringliteral">&quot;mono8&quot;</span>)
<a name="l00042"></a>00042         <span class="keywordflow">except</span> CvBridgeError, e:
<a name="l00043"></a>00043             <span class="keywordflow">print</span> e
<a name="l00044"></a>00044 
<a name="l00045"></a>00045         <span class="comment"># Create BGR8 image to be output</span>
<a name="l00046"></a>00046         output_image = cv.CreateMat(working_image.height,working_image.width,cv.CV_8UC3)
<a name="l00047"></a>00047         cv.Merge(working_image,working_image,working_image, <span class="keywordtype">None</span>, output_image)        
<a name="l00048"></a>00048         
<a name="l00049"></a>00049         <span class="comment"># Background subtraction to leave robots only in image</span>
<a name="l00050"></a>00050         cv.AbsDiff(working_image,self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a681a9a98b8c188f0820f018f2ce70691">background</a>,working_image)
<a name="l00051"></a>00051         <span class="comment"># Threshold to convert to binary image</span>
<a name="l00052"></a>00052         threshold = 100
<a name="l00053"></a>00053         cv.Threshold(working_image,working_image,threshold,255,cv.CV_THRESH_BINARY) <span class="comment">#Threshold to create binary image</span>
<a name="l00054"></a>00054         <span class="comment"># Erode image to remove small holes in binary image</span>
<a name="l00055"></a>00055         erodeIterations = 1
<a name="l00056"></a>00056         cv.Erode(working_image, working_image, <span class="keywordtype">None</span>, erodeIterations)
<a name="l00057"></a>00057         <span class="comment"># Create contour objects mapping the boundaries between white and black in the binary image</span>
<a name="l00058"></a>00058         contours = cv.FindContours(working_image, cv.CreateMemStorage(), cv.CV_RETR_LIST, cv.CV_CHAIN_APPROX_SIMPLE, (0,0))
<a name="l00059"></a>00059 
<a name="l00060"></a>00060         red = cv.RGB(255,0,0)
<a name="l00061"></a>00061         blue = cv.RGB(0,0,255)
<a name="l00062"></a>00062 
<a name="l00063"></a>00063         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab88fc0349678620294250c014d25ea08">measurements</a> = PoseArray()
<a name="l00064"></a>00064         readings = []
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <span class="keywordflow">if</span> contours:
<a name="l00067"></a>00067             _c = contours
<a name="l00068"></a>00068             <span class="comment">#Cycle through all contours</span>
<a name="l00069"></a>00069             <span class="keywordflow">while</span> _c <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:
<a name="l00070"></a>00070                 <span class="comment">#Find position in image</span>
<a name="l00071"></a>00071                 box = cv.MinAreaRect2(_c,cv.CreateMemStorage())
<a name="l00072"></a>00072                 center = (int(box[0][0]),int(box[0][1]))
<a name="l00073"></a>00073                 centerFloat = (box[0][0],box[0][1])
<a name="l00074"></a>00074                 radius = 5 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076                 <span class="comment">#Find orientation in image</span>
<a name="l00077"></a>00077                 moments = cv.Moments(_c,<span class="keyword">False</span>)
<a name="l00078"></a>00078                 blobSize = cv.ContourArea(_c)
<a name="l00079"></a>00079                 minBlobSize = 500
<a name="l00080"></a>00080                 <span class="keywordflow">if</span> blobSize &gt; minBlobSize: <span class="comment">#Ignore small blobs</span>
<a name="l00081"></a>00081                     <span class="comment">#Find centroid of blob</span>
<a name="l00082"></a>00082                     centroidFloat = (cv.GetSpatialMoment(moments,1,0)/cv.GetSpatialMoment(moments,0,0),cv.GetSpatialMoment(moments,0,1)/cv.GetSpatialMoment(moments,0,0))
<a name="l00083"></a>00083                     centroid = (int(centroidFloat[0]),int(centroidFloat[1]))
<a name="l00084"></a>00084                     
<a name="l00085"></a>00085                     <span class="comment">#An estimate of theta is found by drawing line from centroid of blob through center of the robot</span>
<a name="l00086"></a>00086                     thetaEstimate = -m.atan2(centerFloat[1]-centroidFloat[1],centerFloat[0]-centroidFloat[0])
<a name="l00087"></a>00087        
<a name="l00088"></a>00088                     <span class="comment">#Theta is found using the minimum area box used to find the position above</span>
<a name="l00089"></a>00089                     thetaBox = -m.pi/180.0*box[2] <span class="comment">#Angle of the minimum area box with the x-axis in the first quadrant</span>
<a name="l00090"></a>00090                     previousError = -1.0
<a name="l00091"></a>00091                     theta = <span class="keywordtype">None</span>
<a name="l00092"></a>00092                     stepList = [-m.pi,-m.pi*0.5,0,m.pi*0.5]
<a name="l00093"></a>00093                     <span class="keywordflow">for</span> step <span class="keywordflow">in</span> stepList:
<a name="l00094"></a>00094                         thetaTest = thetaBox+step
<a name="l00095"></a>00095                         error = pow(thetaEstimate-thetaTest,2)
<a name="l00096"></a>00096                         <span class="keywordflow">if</span> previousError &lt; 0:
<a name="l00097"></a>00097                             theta = thetaTest
<a name="l00098"></a>00098                         <span class="keywordflow">elif</span> error &lt; previousError:
<a name="l00099"></a>00099                             theta = thetaTest
<a name="l00100"></a>00100                         previousError = error
<a name="l00101"></a>00101                     
<a name="l00102"></a>00102                     <span class="comment">#Point center and orientation on output_image</span>
<a name="l00103"></a>00103                     length = 15.0
<a name="l00104"></a>00104                     end = (int(center[0]+m.cos(theta)*length),int(center[1]-m.sin(theta)*length))
<a name="l00105"></a>00105                     cv.Line(output_image,center,end,blue)                
<a name="l00106"></a>00106                     cv.Circle(output_image, center, radius, blue)
<a name="l00107"></a>00107 
<a name="l00108"></a>00108                     <span class="comment">#Write sensed pose to message</span>
<a name="l00109"></a>00109                     scale = 1.7526/1024.0 <span class="comment">#meters/pixel</span>
<a name="l00110"></a>00110                     x = (center[0]-0.5*float(working_image.width))*scale
<a name="l00111"></a>00111                     y = -(center[1]-0.5*float(working_image.height))*scale
<a name="l00112"></a>00112                     theta = theta
<a name="l00113"></a>00113                     readings.append((x,y,theta))
<a name="l00114"></a>00114                     
<a name="l00115"></a>00115                 <span class="comment">#Cycle to next contour</span>
<a name="l00116"></a>00116                 _c = _c.h_next() 
<a name="l00117"></a>00117             <span class="comment">#Draw contours on output image</span>
<a name="l00118"></a>00118             cv.DrawContours(output_image, contours, red, blue,2)
<a name="l00119"></a>00119         <span class="comment">#Display image</span>
<a name="l00120"></a>00120         cv.ShowImage(<span class="stringliteral">&quot;Image Window&quot;</span>, output_image)
<a name="l00121"></a>00121         cv.WaitKey(3)
<a name="l00122"></a>00122 
<a name="l00123"></a>00123         <span class="keywordflow">try</span>:
<a name="l00124"></a>00124             self.image_pub.publish(self.bridge.cv_to_imgmsg(output_image,<span class="stringliteral">&quot;bgr8&quot;</span>))
<a name="l00125"></a>00125         <span class="keywordflow">except</span> CvBridgeError, e:
<a name="l00126"></a>00126             <span class="keywordflow">print</span> e
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a4f523b66b9a2b170c723806b10daf720" title="Matchings readings with the robots in the current state estimate and stores the sorted measurements i...">matchRobots</a>(readings)
<a name="l00129"></a>00129 
<a name="l00130"></a>00130         self.measurement_pub.publish(self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab88fc0349678620294250c014d25ea08">measurements</a>)
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="comment">## Callback function for state estimates. Stores state estimates as self.currentStates.</span>
<a name="l00133"></a>00133     <span class="comment">#</span>
<a name="l00134"></a>00134     <span class="comment"># @param data is the message received from the subscriber.</span>
<a name="l00135"></a><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab730a96e79b469f9087904e86bcdc7bd">00135</a>     <span class="keyword">def </span><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#ab730a96e79b469f9087904e86bcdc7bd" title="Callback function for state estimates.">stateCallback</a>(self, data):
<a name="l00136"></a>00136         self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a3dae4aa67056fff274a6877ec36a512b">currentStates</a> = data       
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <span class="comment">## Matchings readings with the robots in the current state estimate and stores the sorted measurements in a PoseArray called self.measurements.</span>
<a name="l00139"></a>00139     <span class="comment"># </span>
<a name="l00140"></a>00140     <span class="comment"># To match the readings with the robots. A cost matrix is construsted of the square of the distance between each state estimate and each reading found in the image. The Hungarian algorithm is used to find the lowest cost set of matches between the readings and state_estimates. It also rejects false positive readings if they are far from the estimated positions of the robots and can handle the case when fewer robots are detected in the image than are known to exist in the system.</span>
<a name="l00141"></a>00141     <span class="comment"># @param readings is an unsorted list of tuples represented detected poses of robots.</span>
<a name="l00142"></a><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a4f523b66b9a2b170c723806b10daf720">00142</a>     <span class="keyword">def </span><a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a4f523b66b9a2b170c723806b10daf720" title="Matchings readings with the robots in the current state estimate and stores the sorted measurements i...">matchRobots</a>(self, readings):
<a name="l00143"></a>00143         <span class="comment"># Create least squares cost matrix.</span>
<a name="l00144"></a>00144         costMatrix = []
<a name="l00145"></a>00145         <span class="keywordflow">for</span> reading <span class="keywordflow">in</span> readings:
<a name="l00146"></a>00146             temp = []
<a name="l00147"></a>00147             <span class="keywordflow">for</span> state <span class="keywordflow">in</span> self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a3dae4aa67056fff274a6877ec36a512b">currentStates</a>.poses:
<a name="l00148"></a>00148                 difference = pow(reading[0]-state.position.x,2)+pow(reading[1]-state.position.y,2)
<a name="l00149"></a>00149                 temp.append(difference)                
<a name="l00150"></a>00150             costMatrix.append(temp)
<a name="l00151"></a>00151         <span class="comment"># Apply Hungarian algorithm to cost matrix if cost matrix exists, i.e. if robots are detected in the image.</span>
<a name="l00152"></a>00152         <span class="keywordflow">if</span> len(costMatrix) != 0:
<a name="l00153"></a>00153             mun = Munkres()
<a name="l00154"></a>00154             <span class="comment"># indexes is a list of the matched readings and estimates. Each entry is a tuple (X,Y) where X is the index of the reading and Y is the index of the state_estimate</span>
<a name="l00155"></a>00155             indexes = mun.compute(costMatrix) 
<a name="l00156"></a>00156             <span class="comment"># Sort readings into measurements PoseArray in correct order</span>
<a name="l00157"></a>00157             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(0,self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a32d99de901934e356c1b49c740c2f80b">nRobots</a>):
<a name="l00158"></a>00158                 assigned = <span class="keyword">False</span>
<a name="l00159"></a>00159                 <span class="keywordflow">for</span> pair <span class="keywordflow">in</span> indexes:
<a name="l00160"></a>00160                     <span class="keywordflow">if</span> pair[1] == i: 
<a name="l00161"></a>00161                         readingsIndex = pair[0]
<a name="l00162"></a>00162                         p = Pose()
<a name="l00163"></a>00163                         p.position.x = readings[readingsIndex][0]
<a name="l00164"></a>00164                         p.position.y = readings[readingsIndex][1]
<a name="l00165"></a>00165                         p.orientation.z = readings[readingsIndex][2]
<a name="l00166"></a>00166                         p.orientation.w = 1
<a name="l00167"></a>00167                         self.measurements.poses.append(p)
<a name="l00168"></a>00168                         assigned = <span class="keyword">True</span>
<a name="l00169"></a>00169                 <span class="comment"># Case for undetected robot</span>
<a name="l00170"></a>00170                 <span class="keywordflow">if</span> <span class="keywordflow">not</span> assigned:
<a name="l00171"></a>00171                     p = Pose()
<a name="l00172"></a>00172                     p.orientation.w = 0 <span class="comment"># Use the orientation.w entry as a binary signifier whether or not that robot has been detected in the image</span>
<a name="l00173"></a>00173                     self.measurements.poses.append(p)
<a name="l00174"></a>00174         <span class="comment"># If not robots detected return all orientation.w as zero</span>
<a name="l00175"></a>00175         <span class="keywordflow">else</span>:
<a name="l00176"></a>00176             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> xrange(0,self.<a class="code" href="classmiabot__tracker_1_1miabot__tracker.html#a32d99de901934e356c1b49c740c2f80b">nRobots</a>):
<a name="l00177"></a>00177                 p = Pose()
<a name="l00178"></a>00178                 p.orientation.w = 0
<a name="l00179"></a>00179                 self.measurements.poses.append(p)
<a name="l00180"></a>00180 
<a name="l00181"></a>00181 <span class="comment">## Runs on the startup of the node. Initializes the node and creates the MiabotTracker object.</span>
<a name="l00182"></a><a class="code" href="namespacemiabot__tracker.html#a53cb42c23c6bf99efea9928cbe073fb9">00182</a> <span class="keyword">def </span><a class="code" href="namespacemiabot__tracker.html#a53cb42c23c6bf99efea9928cbe073fb9" title="Runs on the startup of the node.">main</a>():
<a name="l00183"></a>00183     rospy.init_node(<span class="stringliteral">&#39;dcsl_miabot_tracker&#39;</span>)
<a name="l00184"></a>00184     tracker = <a class="code" href="classmiabot__tracker_1_1miabot__tracker.html" title="This class allows detection of robots in an image, orders these readings based on state estimates...">miabot_tracker</a>()
<a name="l00185"></a>00185 
<a name="l00186"></a>00186     <span class="keywordflow">try</span>:
<a name="l00187"></a>00187         rospy.spin()
<a name="l00188"></a>00188     <span class="keywordflow">except</span> KeyboardInterrupt:
<a name="l00189"></a>00189         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Shutting down&quot;</span>
<a name="l00190"></a>00190         cv.DestroyAllWindows()
<a name="l00191"></a>00191 
<a name="l00192"></a>00192 
<a name="l00193"></a>00193 <span class="keywordflow">if</span> __name__ == <span class="stringliteral">&#39;__main__&#39;</span>:
<a name="l00194"></a>00194     <a class="code" href="namespacemiabot__tracker.html#a53cb42c23c6bf99efea9928cbe073fb9" title="Runs on the startup of the node.">main</a>()
<a name="l00195"></a>00195 
<a name="l00196"></a>00196 <span class="comment"># http://www.ros.org/wiki/cv_bridge/Tutorials/ConvertingBetweenROSImagesAndOpenCVImagesPython</span>
</pre></div></div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>


<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://ros.org/wiki/dcsl_vision_tracker">dcsl_vision_tracker</a><br />
Author(s): Brendan Andrade</br />
<small>autogenerated on Fri Jan 18 2013 19:44:11</small>
</div>
</body>
</html>
